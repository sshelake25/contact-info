<div class="border pl-5 pt-2">
  <h2> Create New Contact </h2>
  <form #conactForm="ngForm" (ngSubmit)="onSubmit(conactForm)" novalidate>
    <input type="hidden" name="$key" #$key="ngModel" [(ngModel)]="contactService.selectedContact.$key">

    <div class="row">
      <div class="form-group col-md-4">
        <label>First Name</label>
        <input class="form-control" name="firstName" #firstName="ngModel" [(ngModel)]="contactService.selectedContact.firstName"
          placeholder="First Name" minlength= "4" required>

        <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)" class="alert alert-danger">
          <div *ngIf="firstName.errors.required">
              First Name is required.
          </div>
          <div *ngIf="firstName.errors.minlength">
              First Name must be at least 4 characters long.
          </div>
        </div>
      </div>
      <div class="form-group col-md-4">
        <label>Last Name</label>
        <input class="form-control" name="lastName" #lastName="ngModel" [(ngModel)]="contactService.selectedContact.lastName" placeholder="Last Name"
          required minlength= "3">

          <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="alert alert-danger">
              <div *ngIf="lastName.errors.required">
                Last Name is required.
              </div>
              <div *ngIf="lastName.errors.minlength">
                Last Name must be at least 3 characters long.
              </div>
            </div>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-md-4">
        <label>Email</label>
        <input class="form-control" name="email" email #email="ngModel" [(ngModel)]="contactService.selectedContact.email" placeholder="Email"
          required [pattern]="emailPattern">
          
          <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger"> 
              <div *ngIf="email.errors.required"> 
                   * Email id required.
              </div>			   
              <div *ngIf="email.errors.pattern"> 
                  * Email id not valid.
              </div>	
           </div> 
      </div>

      <div class="form-group col-md-4">
        <label>Phone No</label>
        <input class="form-control" name="phoneNo" #phoneNo="ngModel" [(ngModel)]="contactService.selectedContact.phoneNo" placeholder="Phone No"
          required [pattern]="phonePattern" maxlength="10">

          <div *ngIf="phoneNo.invalid && (phoneNo.dirty || phoneNo.touched)" class="alert alert-danger"> 
              <div *ngIf="phoneNo.errors.required"> 
                   * Phone no required.
              </div>			   
              <div *ngIf="phoneNo.errors.pattern"> 
                  * Phone no not valid.
              </div>	
           </div> 
      </div>

      <div class="form-group col-md-4">
        Status
        <br>
        <label class="switch">
          <input type="checkbox"  name="status" #status [(ngModel)]="contactService.selectedContact.status" >
          <span class="slider round"></span>
        </label>
      </div>
    </div>

    <div class="form-group">
      <button class="btn btn-primary m-2" type="submit" [disabled]="!conactForm.valid" >
        <i class="fa fa-floppy-o"></i> Submit
      </button>

      <button class="btn btn-secondary" type="button" (click)="resetForm(conactForm)">
        <i class="fa fa-repeat"></i> Reset
      </button>
    </div>
  </form>
</div>